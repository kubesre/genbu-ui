import{O as e,P as a}from"./regexp-251ef192.js";import{N as l,g as n,Q as t,a as o,ex as s,r,d as u,o as m,e as d,w as p,f as i}from"./index-5da0dba2.js";import{_ as c}from"./AddUserForm.vue_vue_type_script_setup_true_lang-a088aee4.js";const f=()=>{const u=l({name:"",phone:""}),m=n(null),d={name:[{required:!0,message:"请输入姓名"},{match:e,message:"只能是中文姓名"},{minLength:1,maxLength:4,message:"名字最长不超过4个字符"}],phone:[{required:!0,message:"请输入手机号"},{match:a,message:"手机号格式不正确"}]};t.open({title:"添加用户",content:()=>o(s,{model:u,ref:m},{default:()=>[o(s.Item,{field:"name",label:"用户名",rules:d.name},{default:()=>[o(r("a-input"),{modelValue:u.name,"onUpdate:modelValue":e=>u.name=e,placeholder:"请输入用户名","max-length":8,"allow-clear":!0},null)]}),o(s.Item,{field:"phone",label:"手机号",rules:d.phone},{default:()=>[o(r("a-input"),{modelValue:u.phone,"onUpdate:modelValue":e=>u.phone=e,placeholder:"请输入手机号","max-length":11,"allow-clear":!0},null)]})]}),okText:"添加",onBeforeOk:async()=>{var e;return!(await(null==(e=m.value)?void 0:e.validate()))&&(await new Promise((e=>setTimeout((()=>{e(!0)}),2e3))),!0)}})},h=u({__name:"index",setup(e){const a=()=>{f()},l=()=>{const e=n(null);t.open({title:"添加用户",content:()=>o(c,{ref:e},null),okText:"添加",onBeforeOk:async()=>{var a;return await(null==(a=e.value)?void 0:a.handleAddUser())}})};return(e,n)=>{const t=r("a-button"),s=r("a-space");return m(),d(s,{class:"aaa"},{default:p((()=>[o(t,{type:"primary",onClick:a},{default:p((()=>[i("打开添加用户弹窗")])),_:1}),o(t,{type:"primary",onClick:l},{default:p((()=>[i("打开添加用户弹窗(方式2)")])),_:1})])),_:1})}}});export{h as _};
